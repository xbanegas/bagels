{% extends "base.html" %}
{% load static i18n %}
{% block title %}Bookmarks{% endblock %}

{% block content %}

<div class="container">
  <div class="row">

    <div id="accordion" role="tablist" aria-multiselectable="true">
      <div class="card">
        <div class="card-header" role="tab" id="bookmarkFormHeading">
          <h5>
            <a data-toggle="collapse" data-parent="#accordion" href="#bookmarkFormCollapse" aria-expanded="true" aria-controls="bookmarkFormCollapse">
              Add a Bookmark...
            </a>
          </h5>
        </div>
        <div id="bookmarkFormCollapse" class="collapse show" role="tabpanel" aria-labelledby="bookmarkFormHeading">
          <div class="card-block">
            <form action="/" method="post" class="bookmark-form form-horizontal">
              {% include "bookmarks/form.html" %}
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="list-group">
    <table class="table table-striped table-condensed">
      <tbody>
        {% for bookmark in bookmark_list %}
          <tr>
            <td class="created col-sm-3">{{ bookmark.created }}</td>
            <td class="url col-sm-9">
              <a href="{{ bookmark.url }}">
                {% if bookmark.title %}
                  {{ bookmark.title}}
                {% else %}
                  {{ bookmark.url }}
                {% endif %}
              </a>
              <br />
              {% for tag in bookmark.tags.all %}
                <span>{{ tag }}</span>
              {% endfor %}
              <!-- @TODO Style to CSS -->
              <div>
                <a class="btn btn-outline-secondary btn-sm" style="float:right;" href="{% url 'manager:bookmark_detail' bookmark.id %}">edit</a>
                {% if bookmark.notes %}
                  <a class="btn btn-outline-info btn-sm" style="float:right;" href="/#notes">notes</a>
                {% endif %}
              </div>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock content %}
